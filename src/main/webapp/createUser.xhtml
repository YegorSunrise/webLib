<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui">
<h:head>
    <title>Create User</title>
</h:head>
<h:body>
    <h:form>
        <p:panel id="panelId" header="Create User with id #{cdiController.highestId + 1}">

            Name: <p:inputText value="#{cdiController.fullName}"/>
            <p/>
            Login: <p:inputText value="#{cdiController.login}"/>
            <p/>
            Pass: <p:inputText value="#{cdiController.pass}"/>
            <p/>
            <p:commandButton value="Add user" action="#{cdiController.createUser}" update="usersList, panelId"
                             style="margin-right: 20px"/>
            <p:commandButton value="clear table" action="#{cdiController.clearUsers}" update="usersList, panelId"/>
        </p:panel>
    </h:form>


    <p:dataTable value="#{cdiController.usersList}" var="user" id="usersList">
        <p:column headerText="Id">
            <h:outputText value="#{user.id}"/>
        </p:column>

        <p:column headerText="Full Name">
            <h:outputText value="#{user.fullName}"/>
        </p:column>

        <p:column headerText="Login">
            <h:outputText value="#{user.login}"/>
        </p:column>

        <p:column headerText="pass">
            <h:outputText value="#{user.pass}"/>
        </p:column>
    </p:dataTable>

</h:body>

</html>
